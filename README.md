# âš¡ ì‡¼íŠ¹í—ˆ (Short-Cut) v3.0

> **AI ê¸°ë°˜ íŠ¹í—ˆ ì¹¨í•´ ë¦¬ìŠ¤í¬ ë¶„ì„ ì‹œìŠ¤í…œ**  
> Self-RAG + Hybrid Search + Streaming Analysis

[![Python 3.10+](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://www.python.org/)
[![OpenAI API](https://img.shields.io/badge/OpenAI-API-green.svg)](https://openai.com/)
[![Pinecone](https://img.shields.io/badge/Pinecone-Serverless-purple.svg)](https://www.pinecone.io/)
[![Streamlit](https://img.shields.io/badge/Streamlit-App-red.svg)](https://streamlit.io/)

---

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
3. [ì„¤ì¹˜ ë° í™˜ê²½ ì„¤ì •](#-ì„¤ì¹˜-ë°-í™˜ê²½-ì„¤ì •)
4. [íŒŒì´í”„ë¼ì¸ ì‹¤í–‰](#-íŒŒì´í”„ë¼ì¸-ì‹¤í–‰)
5. [ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰](#-ì›¹-ì• í”Œë¦¬ì¼€ì´ì…˜-ì‹¤í–‰)
6. [í…ŒìŠ¤íŠ¸ ì‹¤í–‰](#-í…ŒìŠ¤íŠ¸-ì‹¤í–‰)
7. [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
8. [ë¼ì´ì„ ìŠ¤](#-ë¼ì´ì„ ìŠ¤)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

**ì‡¼íŠ¹í—ˆ(Short-Cut)** ëŠ” ì‚¬ìš©ìì˜ ì•„ì´ë””ì–´ë¥¼ ì…ë ¥ë°›ì•„ ìœ ì‚¬í•œ ì„ í–‰ íŠ¹í—ˆë¥¼ ê²€ìƒ‰í•˜ê³ , AI ê¸°ë°˜ìœ¼ë¡œ **ì¹¨í•´ ë¦¬ìŠ¤í¬ ë¶„ì„** ë° **íšŒí”¼ ì „ëµ**ì„ ì œê³µí•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| **HyDE** | ì‚¬ìš©ì ì•„ì´ë””ì–´ë¡œë¶€í„° 'ê°€ìƒ ì²­êµ¬í•­'ì„ ìƒì„±í•˜ì—¬ ê²€ìƒ‰ ì¬í˜„ìœ¨(Recall)ì„ íšê¸°ì ìœ¼ë¡œ í–¥ìƒ |
| **Multi-Query RAG** | ê¸°ìˆ ì /ë²•ì /ë¬¸ì œí•´ê²° ê´€ì ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ìë™ í™•ì¥í•˜ì—¬ ê²€ìƒ‰ ëˆ„ë½ ìµœì†Œí™” |
| **Hybrid Search** | Pinecone Serverless (Dense + Sparse) í†µí•© ì¸ë±ìŠ¤ ê²€ìƒ‰ìœ¼ë¡œ ì •í™•ë„ ê·¹ëŒ€í™” |
| **RAG Evaluation** | **DeepEval** í”„ë ˆì„ì›Œí¬ë¥¼ í™œìš©í•œ ë‹µë³€ì˜ ì¶©ì‹¤ë„(Faithfulness) ë° ê´€ë ¨ì„±(Relevancy) ìë™ ê²€ì¦ |
| **Reranker** | Cross-Encoder ëª¨ë¸ì„ í™œìš©í•˜ì—¬ ê²€ìƒ‰ ê²°ê³¼ì˜ ê´€ë ¨ì„± ì •ë°€ ì¬ì •ë ¬ |
| **Intelligent Parsing** | Regex â†’ êµ¬ì¡° ë¶„ì„ â†’ NLP â†’ Fallbackì˜ **4-Level ì²­êµ¬í•­ íŒŒì‹±**ìœ¼ë¡œ ë¹„ì •í˜• ë°ì´í„° ì •ë³µ |
| **Claim-Level Analysis** | 'ëª¨ë“  êµ¬ì„±ìš”ì†Œ ë²•ì¹™(All Elements Rule)'ì„ ì ìš©í•œ íŠ¹í—ˆ ì¹¨í•´ ë¦¬ìŠ¤í¬ ì •ë°€ ì§„ë‹¨ |
| **Feedback Loop** | ë¶„ì„ ê²°ê³¼ì— ëŒ€í•œ ì‚¬ìš©ì í”¼ë“œë°±(ğŸ‘/ğŸ‘) ìˆ˜ì§‘ ë° ê²€ìƒ‰ í’ˆì§ˆ ê°œì„  ì—”ì§„ |
| **Guardian Map** | ì•„ì´ë””ì–´ë¥¼ ì„±(Castle)ìœ¼ë¡œ, ìœ„í˜‘ íŠ¹í—ˆë¥¼ ì¹¨ì…ìë¡œ ì‹œê°í™”í•œ **ì§ê´€ì  ë°©ì–´ ì „ëµ ì§€ë„** |
| **PDF Report** | ë¶„ì„ëœ ëª¨ë“  ë‚´ìš©ì„ ê¹”ë”í•œ PDF ë³´ê³ ì„œë¡œ ìë™ ìƒì„± ë° ë‹¤ìš´ë¡œë“œ |
| **ì§€ì‹ì¬ì‚°ê¶Œ ìš©ì–´ ì‚¬ì „ ì œê³µ** | íŠ¹í—ˆ ë¶„ì•¼ê°€ ìƒì†Œí•œ ì‚¬ìš©ìë¥¼ ìœ„í•´ í•„ìˆ˜ ì§€ì‹ì¬ì‚°ê¶Œ ìš©ì–´ë¥¼ ì •ë¦¬í•œ PDF ê°€ì´ë“œë¥¼ ì‚¬ì´ë“œë°”ì—ì„œ ìƒì‹œ ì œê³µ |

---

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì‚¬ìš©ì ì•„ì´ë””ì–´ ì…ë ¥                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Step 1: HyDE (ê°€ìƒ ì²­êµ¬í•­ ìƒì„±)                 â”‚
â”‚                         GPT-4o-mini                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Step 2: Hybrid Search                        â”‚
â”‚              Pinecone (Dense) + BM25 (Sparse) + RRF             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Step 3: Self-Grading                         â”‚
â”‚                 ê´€ë ¨ì„± ì ìˆ˜ í‰ê°€ + Query Rewrite                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Step 4: Critical Analysis                    â”‚
â”‚              ìœ ì‚¬ë„ / ì¹¨í•´ ë¦¬ìŠ¤í¬ / íšŒí”¼ ì „ëµ ë„ì¶œ                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ê²°ê³¼ ì¶œë ¥ (Streaming)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›  ì„¤ì¹˜ ë° í™˜ê²½ ì„¤ì •

### 1. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
pip install -r requirements.txt
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env.example` íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ `.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  ê°’ì„ ì…ë ¥í•©ë‹ˆë‹¤:

```bash
cp .env.example .env
```

í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜:

| ë³€ìˆ˜ëª… | ì„¤ëª… |
|--------|------|
| `OPENAI_API_KEY` | OpenAI API í‚¤ (í•„ìˆ˜) |
| `PINECONE_API_KEY` | Pinecone API í‚¤ (í•„ìˆ˜) |
| `GCP_PROJECT_ID` | Google Cloud Project ID (BigQuery ì‚¬ìš© ì‹œ) |

---

## ğŸš€ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰

ë°ì´í„° íŒŒì´í”„ë¼ì¸ì€ 6ë‹¨ê³„ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:

### ì „ì²´ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰

```bash
python -m src.pipeline --full --limit 1000
```

### ê°œë³„ ìŠ¤í…Œì´ì§€ ì‹¤í–‰

| ìŠ¤í…Œì´ì§€ | ëª…ë ¹ì–´ | ì„¤ëª… |
|---------|--------|------|
| **1. ë°ì´í„° ì¶”ì¶œ** | `python -m src.pipeline --stage 1` | BigQueryì—ì„œ íŠ¹í—ˆ ë°ì´í„° ì¶”ì¶œ |
| **2. ì „ì²˜ë¦¬** | `python -m src.pipeline --stage 2` | ì²­êµ¬í•­ íŒŒì‹± ë° ì²­í‚¹ |
| **3. Triplet ìƒì„±** | `python -m src.pipeline --stage 3` | PAI-NET í•™ìŠµìš© triplet ìƒì„± |
| **4. ì„ë² ë”©** | `python -m src.pipeline --stage 4` | OpenAI APIë¡œ ë²¡í„° ì„ë² ë”© ìƒì„± |
| **5. ì¸ë±ì‹±** | `python -m src.pipeline --stage 5` | Pineconeì— ë²¡í„° ì—…ë¡œë“œ |
| **6. Self-RAG ë°ì´í„°** | `python -m src.pipeline --stage 6` | Ground Truth ë°ì´í„° ìƒì„± |

### íŒŒì´í”„ë¼ì¸ ìŠ¤í…Œì´ì§€ ìƒì„¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Stage 1: BigQuery Extraction                           â”‚
â”‚       â”œâ”€â”€ patents-public-data.patents.publications          â”‚
â”‚       â””â”€â”€ AI/NLP ë„ë©”ì¸ í•„í„°ë§ (IPC: G06F, G06N)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Stage 2: Preprocessing                                 â”‚
â”‚       â”œâ”€â”€ ì²­êµ¬í•­ íŒŒì‹± (ë…ë¦½í•­/ì¢…ì†í•­)                           â”‚
â”‚       â”œâ”€â”€ í…ìŠ¤íŠ¸ ì²­í‚¹ (512 tokens)                            â”‚
â”‚       â””â”€â”€ RAG ì»´í¬ë„ŒíŠ¸ íƒœê¹…                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Stage 3: Triplet Generation                            â”‚
â”‚       â”œâ”€â”€ Anchor: í”¼ì¸ìš© íŠ¹í—ˆ                                 â”‚
â”‚       â”œâ”€â”€ Positive: ì¸ìš© íŠ¹í—ˆ                                 â”‚
â”‚       â””â”€â”€ Negative: ë¬´ê´€í•œ íŠ¹í—ˆ (Hard Negative í¬í•¨)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Stage 4: Embedding                                     â”‚
â”‚       â””â”€â”€ OpenAI text-embedding-3-small (1536 dim)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Stage 5: Vector Indexing                               â”‚
â”‚       â””â”€â”€ Pinecone Serverless (us-east-1)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Stage 6: Self-RAG Training Data                        â”‚
â”‚       â””â”€â”€ GPT-4o-minië¡œ Ground Truth ìƒì„±                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŒ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰

Streamlit ê¸°ë°˜ ì›¹ UIë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤:

```bash
streamlit run app.py
```

### ì›¹ UI ê¸°ëŠ¥

- ğŸ’¡ **ì•„ì´ë””ì–´ ì…ë ¥**: í…ìŠ¤íŠ¸ ì˜ì—­ì— íŠ¹í—ˆ ì•„ì´ë””ì–´ ì…ë ¥
- ğŸ” **ë¶„ì„ ì‹œì‘**: ìœ ì‚¬ íŠ¹í—ˆ ê²€ìƒ‰ ë° ì¹¨í•´ ë¦¬ìŠ¤í¬ ë¶„ì„
- ğŸ“Š **ê²°ê³¼ í™•ì¸**: ìœ ì‚¬ë„ ì ìˆ˜, ë¦¬ìŠ¤í¬ ìˆ˜ì¤€, íšŒí”¼ ì „ëµ í™•ì¸
- ğŸ“œ **íˆìŠ¤í† ë¦¬**: ì´ì „ ë¶„ì„ ê²°ê³¼ ì¡°íšŒ

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰

### RAG í’ˆì§ˆ í‰ê°€ í…ŒìŠ¤íŠ¸

DeepEval ê¸°ë°˜ì˜ Faithfulness ë° Relevancy í‰ê°€ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤:

```bash
# ê¸°ë³¸ í…ŒìŠ¤íŠ¸ (ìˆœì°¨ ì‹¤í–‰)
pytest tests/test_evaluation_golden.py -v

# ë³‘ë ¬ ì‹¤í–‰ + ë¦¬í¬íŠ¸ ìƒì„±
pytest tests/test_evaluation_golden.py -v -n 2 \
    --junitxml=tests/report_golden.xml \
    --html=tests/report_golden.html \
    --self-contained-html
```

### í‰ê°€ ë©”íŠ¸ë¦­

| ë©”íŠ¸ë¦­ | ì„¤ëª… | ì„ê³„ê°’ |
|--------|------|--------|
| **Faithfulness** | ì‘ë‹µì´ ì»¨í…ìŠ¤íŠ¸ì— ê¸°ë°˜í•˜ëŠ”ì§€ í‰ê°€ | â‰¥ 0.6 |
| **Answer Relevancy** | ì‘ë‹µì´ ì§ˆë¬¸ì— ê´€ë ¨ì„±ì´ ìˆëŠ”ì§€ í‰ê°€ | â‰¥ 0.6 |

### ê¸°íƒ€ í…ŒìŠ¤íŠ¸

```bash
# í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸
pytest tests/test_hybrid_search.py -v

# íŒŒì„œ í…ŒìŠ¤íŠ¸
pytest tests/test_parser.py -v

# ID ê¸°ë°˜ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸
pytest tests/test_id_retrieval.py -v
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
SKN22-3rd-2Team/
â”œâ”€â”€ ğŸ“„ app.py                    # Streamlit ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜
â”œâ”€â”€ ğŸ“„ main.py                   # ì„ë² ë”© ëª¨ë¸ ë¡œë” (Intel XPU/NVIDIA CUDA)
â”œâ”€â”€ ğŸ“„ requirements.txt          # Python ì˜ì¡´ì„±
â”œâ”€â”€ ğŸ“„ pytest.ini               # Pytest ì„¤ì •
â”‚
â”œâ”€â”€ ğŸ“ src/                     # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ ğŸ“„ config.py            # ì„¤ì • ê´€ë¦¬
â”‚   â”œâ”€â”€ ğŸ“„ pipeline.py          # íŒŒì´í”„ë¼ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
â”‚   â”œâ”€â”€ ğŸ“„ patent_agent.py      # Self-RAG íŠ¹í—ˆ ë¶„ì„ ì—ì´ì „íŠ¸
â”‚   â”œâ”€â”€ ğŸ“„ vector_db.py         # Pinecone í´ë¼ì´ì–¸íŠ¸ + BM25
â”‚   â”œâ”€â”€ ğŸ“„ bigquery_extractor.py # BigQuery ë°ì´í„° ì¶”ì¶œ
â”‚   â”œâ”€â”€ ğŸ“„ preprocessor.py      # ì „ì²˜ë¦¬ ë° ì²­í‚¹
â”‚   â”œâ”€â”€ ğŸ“„ triplet_generator.py # PAI-NET triplet ìƒì„±
â”‚   â”œâ”€â”€ ğŸ“„ embedder.py          # OpenAI ì„ë² ë”© ìƒì„±
â”‚   â”œâ”€â”€ ğŸ“„ self_rag_generator.py # Self-RAG í•™ìŠµ ë°ì´í„° ìƒì„±
â”‚   â”œâ”€â”€ ğŸ“„ analysis_logic.py    # ë¶„ì„ ë¡œì§
â”‚   â”œâ”€â”€ ğŸ“„ session_manager.py   # ì„¸ì…˜ ê´€ë¦¬
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ data/               # ë°ì´í„° ë””ë ‰í† ë¦¬
â”‚   â”‚   â”œâ”€â”€ ğŸ“ raw/            # ì›ë³¸ ë°ì´í„°
â”‚   â”‚   â”œâ”€â”€ ğŸ“ processed/      # ì „ì²˜ë¦¬ëœ ë°ì´í„°
â”‚   â”‚   â”œâ”€â”€ ğŸ“ triplets/       # Triplet ë°ì´í„°
â”‚   â”‚   â”œâ”€â”€ ğŸ“ embeddings/     # ì„ë² ë”© ë²¡í„°
â”‚   â”‚   â””â”€â”€ ğŸ“ index/          # ì¸ë±ìŠ¤ íŒŒì¼
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ ui/                 # UI ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ ğŸ“„ components.py   # UI ì»´í¬ë„ŒíŠ¸
â”‚       â””â”€â”€ ğŸ“„ styles.py       # CSS ìŠ¤íƒ€ì¼
â”‚
â”œâ”€â”€ ğŸ“ tests/                  # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”‚   â”œâ”€â”€ ğŸ“„ test_evaluation_golden.py  # Golden Dataset í‰ê°€
â”‚   â”œâ”€â”€ ğŸ“„ test_evaluation.py         # RAG í’ˆì§ˆ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ ğŸ“„ test_hybrid_search.py      # í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ ğŸ“„ test_parser.py             # íŒŒì„œ í…ŒìŠ¤íŠ¸
â”‚
â”œâ”€â”€ ğŸ“ scripts/                # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ ğŸ“„ filter_outliers.py  # ì•„ì›ƒë¼ì´ì–´ í•„í„°ë§
â”‚
â””â”€â”€ ğŸ“ docs/                   # ë¬¸ì„œ
    â”œâ”€â”€ ğŸ“ 01_data_preprocessing/
    â”œâ”€â”€ ğŸ“ 02_system_architecture/
    â””â”€â”€ ğŸ“ 03_test_report/
```

---

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

| ë¶„ë¥˜ | ê¸°ìˆ  |
|------|------|
| **ì–¸ì–´** | Python 3.10+ |
| **LLM** | OpenAI GPT-4o-mini |
| **ì„ë² ë”©** | OpenAI text-embedding-3-small (1536 dim) |
| **ë²¡í„° DB** | Pinecone Serverless |
| **ìŠ¤íŒŒìŠ¤ ê²€ìƒ‰** | Pinecone BM25Encoder (pinecone-text) |
| **í”„ë¡ íŠ¸ì—”ë“œ** | Streamlit |
| **í…ŒìŠ¤íŠ¸** | Pytest + DeepEval |
| **ë°ì´í„° ì†ŒìŠ¤** | Google BigQuery (patents-public-data) |

---

## ğŸ‘¥ íŒ€ ì •ë³´

**Team ë€¨ğŸ’•**

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License

---

## ğŸ‘¥ Team ë€¨ğŸ’•
**ì‡¼íŠ¹í—ˆ (Short-Cut)** - "íŠ¹í—ˆ ë¶„ì„ì˜ ì§€ë¦„ê¸¸ì„ ì œì‹œí•©ë‹ˆë‹¤." 
